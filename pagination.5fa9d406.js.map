{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAAO,MAAMC,EAOXC,aACE,OAAOC,MACL,GAAGF,EAAmBG,kCAAkCC,KAAKC,QAC7DC,MAAKC,IACL,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAG3B,OAAOH,EAASI,UAZpBC,cACER,KAAKC,KAAO,GAHdQ,EAAAf,EAAA,CADWE,EACJ,WAAW,wC,IC0BhBc,EAzByBD,EADzBd,EAAA,UACoCgB,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC7F,IAAIC,EAAOL,EAAUM,OAAQC,EAAOP,EAAUQ,iBAAkBC,EAAiBT,EAAUS,gBAAkB,SAASC,EAAQC,GAC1H,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,0DACHJ,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,SAAWA,EAASA,IAC1E,qCACAM,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,QAAUA,EAASA,IACzE,sCACAM,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,MAAQA,EAASA,IACvE,iBACJe,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASjB,EAAUC,EAAOC,EAAQC,EAASC,GAC1E,IAAIc,EAON,OAA8R,OAArRA,GAPsBlB,EAAUS,gBAAkB,SAASC,EAAQC,GACtE,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,KAKWT,EAAQ,QAAQa,KAAe,MAAVd,EAAiBA,EAAUD,EAAUmB,aAAe,GAAIlB,EAAO,CAACmB,KAAO,OAAOC,KAAO,GAAGC,GAAKtB,EAAUuB,QAAQ,EAAGnB,EAAM,GAAGoB,QAAUxB,EAAUyB,KAAKrB,KAAOA,EAAKsB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,GAAGC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAiBX,EAAS,IAC9Sa,SAAU,ICtBZ,MAAMC,EAAmBC,SAASC,cAAc,aAC1CC,EAAgBF,SAASC,cAAc,iBAEvCE,EAAqB,IAAIpD,EAE/BoD,EACGnD,aACAK,MAAK+C,IACJL,EAAiBM,UAAYxC,EAAiBuC,MAE/CE,OAAMC,IACLC,QAAQC,IAAIF,MA0BhBL,EAAcQ,iBAAiB,SAvBJC,IACzBR,EAAmB/C,MAAQ,EAE3B+C,EACGnD,aACAK,MAAK+C,IACiB,IAAjBA,EAAMQ,OAMVb,EAAiBc,mBAAmB,YAAahD,EAAiBuC,IALhEF,EAAcY,MAAMC,QAAU,UAWjCT,OAAMC,IACLC,QAAQC,IAAIF","sources":["src/js/jsonplaceholder-api.js","src/templates/posts.hbs","src/js/pagination.js"],"sourcesContent":["export class JsonPlaceholderApi {\n  static BASE_URL = 'https://jsonplaceholder.typicode.com';\n\n  constructor() {\n    this.page = 1;\n  }\n\n  fetchPosts() {\n    return fetch(\n      `${JsonPlaceholderApi.BASE_URL}/posts?_limit=20&_page=${this.page}`\n    ).then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n\n      return response.json();\n    });\n  }\n}\n","{{#each this}}\n<li class=\"posts__item\">\n    <h2 class=\"posts__title\">{{this.title}}</h2>\n    <p class=\"posts__text\">{{this.body}}</p>\n    <p class=\"posts__id\">id: {{this.id}}</p>\n</li>\n{{/each}}","// https://jsonplaceholder.typicode.com/\nimport { JsonPlaceholderApi } from './jsonplaceholder-api';\nimport createPostsCards from '../templates/posts.hbs';\n\nconst postsContainerEl = document.querySelector('.js-posts');\nconst loadMoreBtnEl = document.querySelector('.js-load-more');\n\nconst jsonPlaceholderApi = new JsonPlaceholderApi();\n\njsonPlaceholderApi\n  .fetchPosts()\n  .then(posts => {\n    postsContainerEl.innerHTML = createPostsCards(posts);\n  })\n  .catch(err => {\n    console.log(err);\n  });\n\nconst onLoadMoreBtnClick = event => {\n  jsonPlaceholderApi.page += 1;\n\n  jsonPlaceholderApi\n    .fetchPosts()\n    .then(posts => {\n      if (posts.length === 0) {\n        loadMoreBtnEl.style.display = 'none';\n\n        return;\n      }\n\n      postsContainerEl.insertAdjacentHTML('beforeend', createPostsCards(posts));\n\n      // if (jsonPlaceholderApi.page === 5) {\n      //   loadMoreBtnEl.style.display = 'none';\n      // }\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nloadMoreBtnEl.addEventListener('click', onLoadMoreBtnClick);\n"],"names":["$iJYdK","parcelRequire","$5e0260ca06b1af01$export$989d43f7eda6ca29","fetchPosts","fetch","BASE_URL","this","page","then","response","ok","Error","status","json","constructor","$parcel$interopDefault","$b74f68d8dc0723bb$export$2e2bcd8739ae039","template","container","depth0","helpers","partials","data","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","compiler","main","stack1","nullContext","name","hash","fn","program","inverse","noop","loc","start","line","column","end","useData","$1bab9c519cfa82bc$var$postsContainerEl","document","querySelector","$1bab9c519cfa82bc$var$loadMoreBtnEl","$1bab9c519cfa82bc$var$jsonPlaceholderApi","posts","innerHTML","catch","err","console","log","addEventListener","event","length","insertAdjacentHTML","style","display"],"version":3,"file":"pagination.5fa9d406.js.map"}