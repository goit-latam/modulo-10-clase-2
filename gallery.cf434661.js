function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return r[e]=o,t.call(o.exports,o,o.exports),o.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},t.parcelRequired7c6=o);var l=o("iJYdK");class a{fetchPhotosByQuery(){const e=new URLSearchParams({query:this.query,page:this.page,per_page:20,orientation:"portrait",client_id:a.API_KEY});return fetch(`${a.BASE_URL}/search/photos?${e}`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()}))}constructor(){this.query=null,this.page=1}}e(l)(a,"BASE_URL","https://api.unsplash.com"),e(l)(a,"API_KEY","LxvKVGJqiSe6NcEVZOaLXC-f2JIIWZaq_o0WrF8mwJc");var s=e(o("amrNH")).template({1:function(e,t,r,n,o){var l,a=e.lambda,s=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="gallery__item">\n    <img src="'+s(a(null!=(l=null!=t?i(t,"urls"):t)?i(l,"regular"):l,t))+'" alt="'+s(a(null!=t?i(t,"alt_description"):t,t))+'" class="gallery-img">\n</li>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){var l;return null!=(l=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(r,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:5,column:9}}}))?l:""},useData:!0});const i=document.querySelector(".js-search-form"),c=document.querySelector(".js-gallery"),u=document.querySelector(".js-load-more"),d=new a;console.log(d);i.addEventListener("submit",(e=>{e.preventDefault();const{target:t}=e;d.query=t.elements.user_search_query.value,d.page=1,d.fetchPhotosByQuery().then((e=>0===e.total?(c.innerHTML="",void u.classList.add("is-hidden")):1===e.total_pages?(c.innerHTML=s(e.results),void u.classList.add("is-hidden")):(c.innerHTML=s(e.results),void u.classList.remove("is-hidden")))).catch((e=>{console.log(e)}))})),u.addEventListener("click",(e=>{d.page+=1,d.fetchPhotosByQuery().then((e=>{c.insertAdjacentHTML("beforeend",s(e.results)),d.page===e.total_pages&&u.classList.add("is-hidden")})).catch((e=>{console.log(e)}))}));
//# sourceMappingURL=gallery.cf434661.js.map
