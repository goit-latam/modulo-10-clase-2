!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequired7c6=o);var a=o("8MBJY"),l=o("a2hTj"),i=o("hKHmD"),s=function(){"use strict";function t(){e(a)(this,t),this.query=null,this.page=1}return e(l)(t,[{key:"fetchPhotosByQuery",value:function(){var e=new URLSearchParams({query:this.query,page:this.page,per_page:20,orientation:"portrait",client_id:t.API_KEY});return fetch("".concat(t.BASE_URL,"/search/photos?").concat(e)).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()}))}}]),t}();e(i)(s,"BASE_URL","https://api.unsplash.com"),e(i)(s,"API_KEY","LxvKVGJqiSe6NcEVZOaLXC-f2JIIWZaq_o0WrF8mwJc");var u=e(o("WMajR")).template({1:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="gallery__item">\n    <img src="'+i(l(null!=(a=null!=t?s(t,"urls"):t)?s(a,"regular"):a,t))+'" alt="'+i(l(null!=t?s(t,"alt_description"):t,t))+'" class="gallery-img">\n</li>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a;return null!=(a=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:5,column:9}}}))?a:""},useData:!0}),c=document.querySelector(".js-search-form"),d=document.querySelector(".js-gallery"),f=document.querySelector(".js-load-more"),p=new s;console.log(p);c.addEventListener("submit",(function(e){e.preventDefault();var t=e.target;p.query=t.elements.user_search_query.value,p.page=1,p.fetchPhotosByQuery().then((function(e){return 0===e.total?(d.innerHTML="",void f.classList.add("is-hidden")):1===e.total_pages?(d.innerHTML=u(e.results),void f.classList.add("is-hidden")):(d.innerHTML=u(e.results),void f.classList.remove("is-hidden"))})).catch((function(e){console.log(e)}))})),f.addEventListener("click",(function(e){p.page+=1,p.fetchPhotosByQuery().then((function(e){d.insertAdjacentHTML("beforeend",u(e.results)),p.page===e.total_pages&&f.classList.add("is-hidden")})).catch((function(e){console.log(e)}))}))}();
//# sourceMappingURL=gallery.36c97b06.js.map
